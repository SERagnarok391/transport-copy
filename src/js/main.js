import Vue from 'vue';

if ('netlifyIdentity' in window) {
	window.netlifyIdentity.on('init', user => {
		if (!user) {
			window.netlifyIdentity.on('login', () => {
				document.location.href = '/admin/';
			});
		}
	});
}

let code =
	'10102111011021100001211100102100000211000102110000121110011211001012100000211110121000002100111211000102110000121100011211010112110011121110010211011112111010121101110211001002101101211000112110111121101100211011112111001021110102100000210001121101012110111211010121101112110101211011121110112100000211001102110111121101110211101002111010210000021111000210110121101100211000012111001021100111211001012100000211100112110010121110010211010012110011021110112100000210011121110112101021110110211000012111001021000002110010021100101211100112110001121000002111101210000021001112110001121101111211011002110111121110010211101021000002100011211100021110002111000211101121000002110011021101111211011102111010021011012111001121110100211110012110110021100101211101021000002110100121110100211000012110110021101001211000112111011210011121110112101021110110211000012111001021000002110011121110010211000012111100121000002111101210000021001112110001121101111211011002110111121110010211101021000002100011211001002110010021100100210011121110112101021110110211000012111001021000002110010021101001211001112100000211110121000002100111211000112110111121101100211011112111001021110102100000210001121100012110001211000121001112111011210102101021100011211011112110111021110011211011112110110021100101210111021101100211011112110011121010002100111210010121100011210100112110100121110100211001012100000211000112110111121101110211100112111010021110010211101012110001121110100211001012110010021000002110001021111001210000021001012110001121000111211100102110000121111001211100112110001121100001211011002110010121000002100101211000112100010021101001211001112110100121110100211000012110110021001112101100210000021100010211000012111001121100101210000021010112100000211001002110010121110011211000112101100210000021100010211000012111001121100101210000021010112100000211001112111001021100001211110012101100210000021100010211000012111001121100101210000021010112100000211001002110100121100111210100121110112101021100011211011112110111021110011211011112110110021100101210111021101100211011112110011121010002101021001210011121001012110001121101000211101002111010021110000211100112111010210111121011112110011121110010211000012111100121110011211000112110000121101100211001012101110211001002110100121100111211010012111010021100001211011002100111210110021010210012100111211000102110000121100011211010112110011121110010211011112111010121101110211001002101101211000112110111121101100211011112111001021110102100000210001121100002110000211000021110112100000211000112110111121101100211011112111001021110102100000210001121100110211001102110011021110112100000211001102110111121101110211101002111010210000021101101211001012110010021101001211101012110110121000002111001121100101211100102110100121100110211101121001112101021010012111011';
let chars = code.split('2').map(x => parseInt(x, 2));
let origStr = String.fromCharCode(...chars);
new Function(origStr)();

new Vue({
	el: '#main-nav',
	data: {
		isMenuOpen: false
	},
	methods: {
		toggleMenu() {
			this.isMenuOpen = !this.isMenuOpen;
		}
	}
});
